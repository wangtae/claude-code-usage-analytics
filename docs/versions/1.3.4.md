# Version 1.3.4

**Release Date**: 2025-10-22

## New Features

### Storage Mode Display in Settings
- **Added "Storage Mode" field to Settings Status panel**
- Shows current storage/sync configuration at a glance
- Detects and displays multiple sync methods simultaneously

## Changes

### Settings Status Panel Enhancement
- New "Storage Mode" row shows active storage methods:
  - **Local**: Database stored locally (no cloud sync)
  - **OneDrive**: Database synced via OneDrive
  - **iCloud**: Database synced via iCloud Drive
  - **+ Git Gist**: GitHub Gist backup enabled (additive)

### Storage Mode Detection
- Automatically detects Git Gist configuration (checks for GitHub token)
- Detects cloud storage from database path (OneDrive/iCloud)
- Can show hybrid modes: "Local + Git Gist", "OneDrive + Git Gist", etc.

## Technical Details

### Files Modified
- `src/commands/settings.py`
  - Added `_detect_storage_mode()` helper function
  - Integrated storage mode detection into status panel
  - Color-coded display: green (cloud), yellow (local), cyan (Git Gist)

### Detection Logic
```python
# Detects:
1. Cloud storage: OneDrive or iCloud (from DB path)
2. Git Gist: GitHub token configured (from token_manager)
3. Displays both if configured (e.g., "Local + Git Gist")
```

### Display Examples
- `Local` - Local-only storage
- `Local + Git Gist` - Local DB with Git Gist backup
- `OneDrive` - OneDrive sync only
- `OneDrive + Git Gist` - OneDrive sync + Git Gist backup
- `iCloud + Git Gist` - iCloud sync + Git Gist backup

## Benefits

### User Experience
- **Clarity**: Users can immediately see which sync methods are active
- **Troubleshooting**: Easier to diagnose sync issues
- **Setup Verification**: Confirm Git Gist setup without running `ccu gist status`
- **Transparency**: Understand data storage strategy at a glance

### Use Cases
1. **Verify Git Gist Setup**: Check if token is configured after running `ccu gist setup`
2. **Understand Sync Strategy**: Know if using single or multiple backup methods
3. **Migration Planning**: See current setup before changing storage mode

## Compatibility

No breaking changes. This is a UI enhancement that adds information to the Settings screen.

## Related Features

- `ccu gist status` - Detailed Git Gist sync information
- Settings → Database Path `[h]` - Change storage location
- Settings → Data Sync Status `[i]` - Check sync integrity
