# Version 1.0.3

Released: 2025-10-16

## Major Features

### Tab-Switchable View Modes
- **Weekly Mode**: Toggle between Usage Limits Period and Calendar Week views
  - Press `tab` to switch between two modes
  - Usage Limits Period (default): Shows Claude's proprietary weekly limit period with time-specific reset
  - Calendar Week: Shows current ISO 8601 calendar week (Monday-Sunday)
- **Monthly Mode**: Toggle between Daily and Weekly breakdown views
  - Press `tab` to switch between two modes
  - Daily (default): Shows daily usage for the selected month
  - Weekly: Shows weekly breakdown (ISO weeks) for the selected month
- **Yearly Mode**: Toggle between Monthly and Weekly breakdown views
  - Press `tab` to switch between two modes
  - Monthly (default): Shows monthly usage for the selected year
  - Weekly: Shows weekly breakdown (ISO weeks) for the entire year

### Enhanced Weekly Mode Clarity
- **Clear Mode Indication**: "Daily Usage (Weekly Limit Period)" title explicitly indicates the mode
- **Visual Distinction**: Weekly mode uses color coding to distinguish between modes:
  - Usage Limits Period mode: bright_red background (matches Usage Limits bar color)
  - Calendar Week mode: yellow background (standard selection color)
- **Footer Update**: Changed "tab to switch view" to "tab to switch mode" for clarity

### Consistent Table Design
- **Unified Structure**: Standardized Daily/Weekly/Monthly breakdown tables across all modes
- **Compact Display**: Bar graphs optimized to 10 characters width
- **Consolidated Tokens**: Combined Input/Output tokens display (e.g., "45.2M / 32.1M")
- **Consolidated Cache**: Combined Cache Write/Read display (e.g., "12.3K / 8.4K")
- **Standard Columns**: Date/Month, Bar Graph, Tokens(I/O), Cache(W/R), Messages, Cost

### ISO 8601 Week Display
- **Enhanced Week Labels**: Week format includes month information (e.g., "2025-09-W38")
- **Standard Compliance**: Uses ISO 8601 week definition (Monday start, week 1 contains January 4th)
- **Clear Navigation**: Month prefix helps users quickly identify time periods

### UI/UX Improvements
- **Shortcut Key Highlighting**: All unselected menu shortcuts now display hotkeys in white for better visibility
- **Pattern**: `[u]sage` displays as: `[` (dim), `u` (white), `]sage` (dim)
- **Applied To**: All view menu items and footer shortcuts
- **Date Sorting**: Changed from reverse chronological to chronological (oldest first) for better readability

## Technical Details

### New Functions
- `_create_weekly_breakdown_calendar(records, year)`: ISO week breakdown for entire year
- `_create_weekly_breakdown_for_month(records, year, month)`: ISO week breakdown for specific month
- `_create_daily_breakdown_calendar_week(records)`: Current calendar week daily breakdown

### State Management
- Added `weekly_display_mode` to view_mode_ref ('limits' or 'calendar')
- Added `monthly_display_mode` to view_mode_ref ('daily' or 'weekly')
- Added `yearly_display_mode` to view_mode_ref ('monthly' or 'weekly')

### Tab Key Handling
- Extended tab key logic to support mode switching in Weekly, Monthly, and Yearly views
- Each mode maintains independent state for display preferences

## Bug Fixes
- Fixed weekly mode title clarity for general users unfamiliar with Claude's usage limits
- Improved visual distinction between different weekly modes
- Enhanced shortcut key visibility across all menu items

---

For installation and usage instructions, see [README.md](../../README.md)
